<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Score Controller</title>
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/ticker.css">
</head>
<body>
  <div class="controller-container">
    <h1>Update Your Score</h1>
    <input type="number" id="scoreInput" placeholder="Enter your score">
    <button onclick="updateScore()">Update Score</button>
  </div>

  <script>
    const playerID = window.location.pathname.split('/').pop();

    function updateScore() {
      const score = document.getElementById('scoreInput').value.trim();
      if (!score) {
        alert('Please enter a score.');
        return;
      }
      fetch('/update-score', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ playerId: playerID, score: parseInt(score, 10) })
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          alert('Score updated successfully!');
        } else {
          alert('Failed to update score.');
        }
      });
    }
  </script>
</body>
</html>